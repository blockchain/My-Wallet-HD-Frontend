h5.well.headliner.hidden-xs(translate="MY_ADDRESSES_EXPLAIN_TEMP")

.form-ctrl.flex-between.flex-center
  .flex-1.mrl
    input.filter(type="text", ng-model="searchText").form-control
  .btn-group(dropdown is-open="display.account_dropdown_open")
    button.btn.btn-info.dropdown-toggle.btn-bci(dropdown-toggle type="button", data-toggle="dropdown", aria-expanded="false")
      span(translate="NEW_ADDRESS")
      span.caret
    ul.dropdown-menu(role="menu")
      li(ng-repeat="account in accounts | filter:{archived: false}")
        a(ng-click="addAddressForAccount(account)") {{ account.label }}
.row
  .col-xs-12.table-container
    table.responsive
      tr
        th(translate="ADDRESS")
        th.hidden-xs(translate="LABEL")
        th.hidden-xs(translate="ACCOUNT")
      tr(ng-repeat="address in hdAddresses()") 
        // | filter:searchText | orderBy:['address.account.index', 'index']")
        td
          a(ng-bind-html="address.address | highlight:searchText", ui-sref="wallet.common.settings.hd_address({account: address.account.index, index: address.index})")
        td.hidden-xs(ng-bind-html="address.label | highlight:searchText")
        td.hidden-xs(ng-bind-html="address.account.label | highlight:searchText")
 
.flex.mtl
  button.button-default.mrl(translate="IMPORTED_ADDRESSES" ng-click="toggleDisplayImported()" ng-class="{active : display.imported}")
  button.button-default(translate="ARCHIVED_ADDRESSES" ng-click="toggleDisplayArchived()" ng-class="{active : display.archived}")

p.mtl.hidden-xs(translate="IMPORTED_ADDRESSES_EXPLAIN", ng-show="display.imported")
p.mtl.hidden-xs(translate="ARCHIVED_ADDRESSES_EXPLAIN", ng-show="display.archived")

.flex-between.flex-center.form-ctrl(ng-show="display.imported")
  .flex-1.mrl
    input.filter(type="text", ng-model="searchTextLegacy").form-control
  a.btn.btn-info.btn-bci(ng-click="importAddress()", translate="IMPORT_ADDRESS")

.row(ng-show="display.imported")
  .col-xs-12.table-container
    table.responsive
      tr
        th(translate="ADDRESS")
        th(translate="LABEL")
        th(translate="BALANCE")
        th
        th
        th
      tr(ng-repeat="address in legacyAddresses() | filter:{archived: false} | filter:searchTextLegacy")
        td
          a(ng-bind-html="address.address | highlight:searchTextLegacy", ui-sref="wallet.common.settings.address({address: address.address})")
          span.label.label-warning(ng-show="address.isWatchOnly", translate="WATCH_ONLY")
        td(ng-bind-html="address.label | highlight:searchTextLegacy")
        td
          span(ng-show="address.balance != null")
            span.btc {{ address.balance | toBitCurrency:settings.btcCurrency }}
            fiat.fiat(btc="address.balance")
          //- span(us-spinner="{radius:6, width:6, length: 6}" spinner-key="{{ address.address }}" spinner-start-active="true" ng-show="address.balance == null")
          img(ng-show="address.balance == null" src="img/spinner.gif")
        //- td
          //- a(ui-sref="wallet.common.settings.address({address: address.address})", translate="DETAILS")
        td
          a(translate="TRANSFER", ng-click="transfer(address)")
        td
          a(translate="ARCHIVE", ng-click="archive(address)")
        td
          a(translate="YOUR_PRIVATE_KEY", ng-hide="address.isWatchOnly", ng-click="showPrivKey(address)")

.row.form-ctrl(ng-show="display.archived")
  .col-xs-12.col-lg-6
    input.filter(type="text", ng-model="searchTextArchived").form-control
.row(ng-show="display.archived")
  .col-xs-12.table-container
    table.responsive
      tr
        th(translate="ADDRESS")
        th(translate="LABEL")
        //- th(translate="BALANCE")
        th
          th
      tr(ng-repeat="address in legacyAddresses() | filter:{archived: true} | filter:searchTextArchived")
        td(ng-bind-html="address.address | highlight:searchTextArchived")
        td(ng-bind-html="address.label | highlight:searchTextArchived")
        //- td
        //-   span(ng-show="address.balance != null")
        //-     span.btc {{ address.balance | toBitCurrency:settings.btcCurrency }}
        //-     fiat.fiat(btc="address.balance")
        //-   img(ng-show="address.balance == null" src="img/spinner.gif")
        td
          a(translate="UNARCHIVE", ng-click="unarchive(address)")
        td
          a(translate="DELETE", ng-click="delete(address)")
